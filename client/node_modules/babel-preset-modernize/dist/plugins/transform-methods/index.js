"use strict";exports.__esModule=true;exports.default=void 0;var _default=({types:t})=>({name:"transform-methods",visitor:{ObjectProperty(path){const value=path.get("value");let fn=value;if(!t.isFunction(fn)||t.isArrowFunctionExpression(fn))return;if(fn!==value){const idents=fn.getOuterBindingIdentifierPaths();for(let i in idents){const binding=fn.scope.getBinding(i);const refs=binding.referencePaths.concat(binding.constantViolations);const isUnreferenced=refs.every(ref=>ref.isDescendant(fn)||ref.equals(value)||ref.equals(binding.path));if(!isUnreferenced)return}}const{node}=fn;const method=t.objectMethod("method",t.clone(path.node.key),node.params,node.body);method.async=node.async;method.generator=node.generator;path.replaceWith(method);if(fn!==value){fn.remove()}}}});exports.default=_default;module.exports=exports.default;